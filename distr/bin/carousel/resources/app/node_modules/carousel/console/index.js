"use strict";

class Carousel {
  constructor({}) {
    this.keyboard = new Keyboard();
    this.stimuli = new Stimuli({
      stimuliIdArray: config.mbeeg.stimulation.sequence.stimuli,
      duration: config.mbeeg.stimulation.duration,
      pause: config.mbeeg.stimulation.pause,
      nextSequence: arr => {
        let last = arr[arr.length - 1];
        arr.sort(() => Math.random() - 0.5);
        return arr[0] === last ? arr.push(arr.shift()) : arr;
      }
    });
    
    this.stimuli.on('data', stimulus => stimulate(stimulus));
  }
  //select easing functionality
  /*for (let i = 0; i < this.config.carousel.keyboard.schools.length; i++){
    switch (this.config.carousel.keyboard.schools[i].motion.easing) {//todo>> inconsistency - ..motion.easing is not a string
      case "linear":
        this.config.carousel.keyboard.schools[i].motion.easing = "linear";
        break;
      case "swing":
        this.config.carousel.keyboard.schools[i].motion.easing = "swing";
        break;
      case "rough":
        this.config.carousel.keyboard.schools[i].motion.easing = RoughEase.ease.config({
          template: Power0.easeNone,
          strength: 1,
          points: 20,
          taper: "none",
          randomize: true,
          clamp: false
        });
        break;
      case "slow motion":
        this.config.carousel.keyboard.schools[i].motion.easing = SlowMo.ease.config(0.9, 0.2, false);
        break;
      case "stepped":
        this.config.carousel.keyboard.schools[i].motion.easing = SteppedEase.config(34);
    }

    this.lets = Object.assign(
      this.config.carousel.keyboard.schools[i].motion.bezier ? {//to
        bezier: {
          type: "sharp",
          values: [{x: 60, y: 80}, {x: 150, y: 30}, {x: 400 + Math.random() * 100, y: 320 * Math.random() + 50}, {
            x: 500,
            y: 320 * Math.random() + 50
          }, {x: 700, y: 100}, {x: 850, y: 500}],
          autoRotate: true
        }
      } : {},
      {
        left: this.horizontalPathLength
        , ease: this.config.carousel.keyboard.schools[i].motion.easing
        , repeat: -1
      });
  }*/
}
