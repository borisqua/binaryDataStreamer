# mbeeg 
### сохранение промежуточных потоков данных

Если в файле конфигурации ограничить количество циклов работы,
установив в ненулевое значение параметр *config.mbeeg.signal.cycles*
например так:
``` 
config.mbeeg.signal.cycles: 15
```
то работа сервера прекратится через указанное количество циклов
(15 в примере), а промежуточные потоки будут сохранены 
в следующие файлы

```
  ./logs/00stim.csv - поток стимулов
  ./logs/01samp.csv` - поток сэмплов
  ./logs/10ep-raw-h.csv` - поток сырых данных эпох (копия сэмплов привязанная к стимулу по временной метке)
  ./logs/20ep-filt-h.csv` - поток отфильтрованных данных эпох
  ./logs/30ep-detr-h.csv` - поток отфильтрованных данных эпох без тренда
  ./logs/32ep-detr-norm-h.csv` - нормированный поток отфильтрованных данных эпох без тренда
  ./logs/40feat-h.csv` - поток фич полученных на нормированных данных детренд-эпох
```
Имена части перечисленных выше файлов заканчиваются на *'-h'* это значит что данные
в указанных csv файлах расположены горизонтально в строках (и следовательно имеют переменное
количество столбцов). Для каждого такого файла имеется дублирующий файл с теми же данными
но расположенными стандартно - в столбцах (их имена заканчиваются на *'-v'*), 
в этих таблицах количество столбцов фиксировано. 
 
Кроме файлов журналов в папке ./logs есть ещё один файл 
``` 
  ./logs/charts.xlsx 
```

Это таблица к которой присоеденены данные вышеперечисленных логов потоков.
На основании этих данных построены графики.
После очередного запуска mbeeg с сохранением логов, данные в таблице 
можно автоматически обновлять.

Если *config.mbeeg.signal.cycles* равно 0, то mbeeg будет работать непрерывно, а вывод данных
в файлы производиться не будет.